@using MutluSepet.Models
@model IEnumerable<Order>

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>@ViewData["Title"]</h2>

@foreach(var order in Model)
{
    <div class="card mb-3">
        <div class="card-header">
            Sipariş ID: @order.Id | Kullanıcı: @order.User.Email | Tarih: @order.OrderDate
        </div>
        <ul class="list-group list-group-flush">
            @foreach(var item in order.OrderItems)
            {
                <li class="list-group-item">
                    @item.Product.Name - @item.Quantity adet - @item.Price.ToString("C") - Toplam: @(item.Quantity * item.Price).ToString("C")
                </li>
            }
            <li class="list-group-item fw-bold">
                Sipariş Toplamı: @order.TotalAmount.ToString("C")
            </li>
        </ul>
    </div>
}
